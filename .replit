run = "bash setup.sh && python3 -m venv venv && source venv/bin/activate && pip install -r requirements.txt && python3 modern_treasury/gui/gui_main.py"
modules = ["dotnet-10.0", "aws-sdk"]

[nix]
channel = "stable-23_05"

language = "python3.10"

env = '''
  # Environment variables
  export STRIPE_API_KEY="your_stripe_api_key"
  export MODERN_TREASURY_API_KEY="MT_PUB_KEY"
  export DEBUG="true"
  export LOG_LEVEL="info"
'''

build = '''
  # Build steps
  echo "Building the application..."
  python3 -m venv venv
  source venv/bin/activate
  pip install -r requirements.txt
  python3 -m pytest tests/
'''

deps = '''
  # Application dependencies
  flask
  requests
  pytest
  pytest-cov
  pandas
  numpy
  boto3
  sqlalchemy
'''
# Define a startup script that runs before your main application starts.
startup = '''
  echo "Starting up the application..."
  source venv/bin/activate
  python3 modern_treasury/gui/gui_main.py
'''

[agent]
expertMode = true
